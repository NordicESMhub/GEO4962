---
title: "CO2 experiment"
teaching: 0
exercises: 0
questions:
- "How to quadruple CO2?"
objectives:
- "Learn to change CO2 concentration in a CESM experiment"
keypoints:
- "CO2"
---

The goal is to quadruple CO2 (EXPNAME=CO2): we need to change the namelist (change CO2 value to 1480 ppm).  

### **Quadrupling CO2**: how to update my namelist?

Namelists can be changed before configuring and building CESM but it can also be done before running your long simulation case. Then, you cannot use xmlchange and update the xml files, you need to directly change the namelist files.  

To be able to quadruple CO2, you first need to check the current CO2 value in your case directory.

<font color="red">On Saga:</font>  

~~~
# Make sure EXPNAME is correctly defined! (here CO2)
export EXPNAME=CO2

cd $HOME/cases/F2000climo-f19_g17.$EXPNAME

cd CaseDocs

ls
~~~
{: .language-bash}

~~~
atm_in           cpl_modelio.nml              glc_modelio.nml  ocn_modelio.nml
atm_modelio.nml  docn_in                      ice_in           rof_modelio.nml
chem_mech.doc    docn.streams.txt.prescribed  ice_modelio.nml  seq_maps.rc
chem_mech.in     drv_flds_in                  lnd_in           wav_modelio.nml
cism.config      drv_in                       lnd_modelio.nml
cism_in          esp_modelio.nml              mosart_in
~~~
{: .output}


In CaseDocs, you can find all your namelists for your experiment. To check the current CO2 value, you can edit atm_in (**do not modify it!**) and search for the word **co2vmr** inside the file **atm_in**.

Change from co2vmr (year 2000) i.e. 370.0e-6 to 1480.0e-6 (4xCO2) in your user_nl_cam file (NOT in atm_in).

1.  Edit user_nl_cam and update its value.
2.  user_nl_cam is your case directory:

<font color="red">On Saga:</font> 

~~~
cd $HOME/cases/F2000climo-f19_g17.$EXPNAME
ls user_nl_cam
~~~
{: .language-bash}

~~~
cat >> user_nl_cam  << EOF
 co2vmr         = 1480.0e-6
EOF
~~~
{: .language-bash}

Then you can apply your changes.

<font color="red">On Saga:</font> 

~~~
./preview_namelists
~~~
{: .language-bash}

{% include links.md %}

